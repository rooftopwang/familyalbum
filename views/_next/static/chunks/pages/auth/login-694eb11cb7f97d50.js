(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[344],{2505:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/login",function(){return s(8388)}])},2540:function(e,n,s){"use strict";s.d(n,{T:function(){return a}});var i=s(5893),r=s(2734);let a=()=>{let e=(0,r.Z)(),n=e.palette.primary.main;return(0,i.jsxs)("svg",{fill:"none",height:"100%",viewBox:"0 0 24 24",width:"100%",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{opacity:.16,d:"M7.242 11.083c.449-1.674 2.17-3.394 3.843-3.843l10.434-2.796c1.673-.448 2.666.545 2.218 2.218L20.94 17.096c-.449 1.674-2.17 3.394-3.843 3.843L6.664 23.735c-1.673.448-2.666-.545-2.218-2.218l2.796-10.434Z",fill:n}),(0,i.jsx)("path",{d:"M3.06 6.9c.448-1.674 2.168-3.394 3.842-3.843L17.336.261c1.673-.448 2.667.545 2.218 2.218l-2.796 10.434c-.449 1.674-2.169 3.394-3.843 3.843L2.481 19.552C.808 20-.185 19.007.263 17.334L3.06 6.9Z",fill:n})]})}},2662:function(e,n,s){"use strict";s.d(n,{a:function(){return a}});var i=s(7294),r=s(249);let a=()=>(0,i.useContext)(r.Vo)},8354:function(e,n,s){"use strict";s.d(n,{A:function(){return h}});var i=s(5893),r=s(5697),a=s.n(r),l=s(1664),t=s.n(l),o=s(7357),c=s(1426),d=s(5861),u=s(2540);let h=e=>{let{children:n}=e;return(0,i.jsx)(o.Z,{component:"main",sx:{display:"flex",flex:"1 1 auto"},children:(0,i.jsxs)(c.Z,{container:!0,sx:{flex:"1 1 auto"},children:[(0,i.jsx)(c.Z,{xs:12,lg:6,sx:{alignItems:"center",background:"radial-gradient(50% 50% at 50% 50%, #122647 0%, #090E23 100%)",color:"white",display:"flex",justifyContent:"center","& img":{maxWidth:"100%"}},children:(0,i.jsxs)(o.Z,{sx:{p:3},children:[(0,i.jsxs)(d.Z,{align:"center",color:"inherit",sx:{fontSize:"24px",lineHeight:"32px",mb:1},variant:"h1",children:["Welcome to"," ",(0,i.jsx)(o.Z,{component:"a",sx:{color:"#15B79E"},target:"_blank",children:"FamilyAlbum"})]}),(0,i.jsx)(d.Z,{align:"center",sx:{mb:3},variant:"subtitle1",children:"Add your memory and manage album for your family."}),(0,i.jsx)("img",{alt:"",src:"/assets/auth-illustration.svg"})]})}),(0,i.jsxs)(c.Z,{xs:12,lg:6,sx:{backgroundColor:"background.paper",display:"flex",flexDirection:"column",position:"relative"},children:[(0,i.jsx)(o.Z,{component:"header",sx:{left:0,p:3,position:"fixed",top:0,width:"100%"},children:(0,i.jsx)(o.Z,{component:t(),href:"/",sx:{display:"inline-flex",height:32,width:32},children:(0,i.jsx)(u.T,{})})}),n]})]})})};h.prototypes={children:a().node}},8388:function(e,n,s){"use strict";s.r(n);var i=s(5893),r=s(7294),a=s(9008),l=s.n(a),t=s(1664),o=s.n(t),c=s(9332),d=s(8482),u=s(6310),h=s(7357),x=s(6447),m=s(5861),p=s(3795),g=s(8409),f=s(44),j=s(7422),b=s(6815),v=s(3321),w=s(1737),Z=s(2662),y=s(8354),C=s(4510);let k=()=>{let e=(0,c.useRouter)(),n=(0,Z.a)(),[s,a]=(0,r.useState)("email"),t=(0,d.TA)({initialValues:{email:"wolfgangwang@hotmail.ca",password:"123456",submit:null},validationSchema:u.Ry({email:u.Z_().email("Must be a valid email").max(255).required("Email is required"),password:u.Z_().max(255).required("Password is required")}),onSubmit:async(s,i)=>{try{await n.signIn(s.email,s.password),e.push("/")}catch(e){i.setStatus({success:!1}),i.setErrors({submit:e.message}),i.setSubmitting(!1)}}}),y=(0,r.useCallback)((e,n)=>{a(n)},[]),k=(0,r.useCallback)(async()=>{await n.skip(),e.push("/")},[n,e]),_=(0,r.useCallback)(e=>{e.preventDefault(),fetch((0,C.T)()+"/dev/deleteall",{method:"POST"}).catch(e=>{console.log(e)})});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l(),{children:(0,i.jsx)("title",{children:"Login | FamilyAlbum"})}),(0,i.jsx)(h.Z,{sx:{backgroundColor:"background.paper",flex:"1 1 auto",alignItems:"center",display:"flex",justifyContent:"center"},children:(0,i.jsx)(h.Z,{sx:{maxWidth:550,px:3,py:"100px",width:"100%"},children:(0,i.jsxs)("div",{children:[(0,i.jsxs)(x.Z,{spacing:1,sx:{mb:3},children:[(0,i.jsx)(m.Z,{variant:"h4",children:"Login"}),(0,i.jsxs)(m.Z,{color:"text.secondary",variant:"body2",children:["Don't have an account? \xa0",(0,i.jsx)(p.Z,{component:o(),href:"/auth/register",underline:"hover",variant:"subtitle2",children:"Register"})]})]}),(0,i.jsxs)(g.Z,{onChange:y,sx:{mb:3},value:s,children:[(0,i.jsx)(f.Z,{label:"Email",value:"email"}),(0,i.jsx)(f.Z,{label:"Phone Number",value:"phoneNumber"})]}),"email"===s&&(0,i.jsxs)("form",{noValidate:!0,onSubmit:t.handleSubmit,children:[(0,i.jsxs)(x.Z,{spacing:3,children:[(0,i.jsx)(j.Z,{error:!!(t.touched.email&&t.errors.email),fullWidth:!0,helperText:t.touched.email&&t.errors.email,label:"Email Address",name:"email",onBlur:t.handleBlur,onChange:t.handleChange,type:"email",value:t.values.email}),(0,i.jsx)(j.Z,{error:!!(t.touched.password&&t.errors.password),fullWidth:!0,helperText:t.touched.password&&t.errors.password,label:"Password",name:"password",onBlur:t.handleBlur,onChange:t.handleChange,type:"password",value:t.values.password})]}),(0,i.jsx)(b.Z,{sx:{mt:1},children:"Optionally you can skip."}),t.errors.submit&&(0,i.jsx)(m.Z,{color:"error",sx:{mt:3},variant:"body2",children:t.errors.submit}),(0,i.jsx)(v.Z,{fullWidth:!0,size:"large",sx:{mt:3},type:"submit",variant:"contained",children:"Continue"}),(0,i.jsx)(v.Z,{fullWidth:!0,size:"large",sx:{mt:3},onClick:k,children:"Login as guest"}),(0,i.jsx)(w.Z,{color:"primary",severity:"info",sx:{mt:3},children:(0,i.jsxs)("div",{children:["You can use ",(0,i.jsx)("b",{children:"wolfgangwang@hotmail.ca"})," and password ",(0,i.jsx)("b",{children:"123456"})," or consider"," ",(0,i.jsx)(p.Z,{component:o(),href:"#",underline:"hover",variant:"subtitle2",onClick:_,children:"Reset Database"})]})})]}),"phoneNumber"===s&&(0,i.jsxs)("div",{children:[(0,i.jsx)(m.Z,{sx:{mb:1},variant:"h6",children:"Not available in the demo"}),(0,i.jsx)(m.Z,{color:"text.secondary",children:"To prevent unnecessary costs we disabled this feature in the demo."})]})]})})})]})};k.getLayout=e=>(0,i.jsx)(y.A,{children:e}),n.default=k}},function(e){e.O(0,[394,404,709,703,481,453,568,774,888,179],function(){return e(e.s=2505)}),_N_E=e.O()}]);