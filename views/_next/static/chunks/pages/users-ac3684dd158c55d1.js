(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[892],{7476:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/users",function(){return s(8180)}])},8180:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return L}});var l=s(5893),t=s(7294),r=s(9008),c=s.n(r),i=s(3557),a=s(2952),d=s(8005),o=s(7357),h=s(5582),u=s(6447),x=s(5861),j=s(3321),g=s(3219);let Z=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[n,s]=(0,t.useState)([]);(0,t.useEffect)(()=>{s([])},[e]);let l=(0,t.useCallback)(()=>{s([...e])},[e]),r=(0,t.useCallback)(e=>{s(n=>[...n,e])},[]),c=(0,t.useCallback)(()=>{s([])},[]),i=(0,t.useCallback)(e=>{s(n=>n.filter(n=>n!==e))},[]);return{handleDeselectAll:c,handleDeselectOne:i,handleSelectAll:l,handleSelectOne:r,selected:n}};var m=s(8334),p=s(5697),f=s.n(p),P=s(2912),w=s(6242),C=s(7906),b=s(3184),v=s(3816),k=s(8102),S=s(5071),y=s(295),A=s(9661),_=s(7171),O=s(2377);let E=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/\s+/," ").split(" ").slice(0,2).map(e=>e&&e[0].toUpperCase()).join("")},D=e=>{let{count:n=0,items:s=[],onDeselectAll:t,onDeselectOne:r,onPageChange:c=()=>{},onRowsPerPageChange:i,onSelectAll:a,onSelectOne:d,page:h=0,rowsPerPage:j=0,selected:g=[]}=e,Z=g.length>0&&g.length<s.length,m=s.length>0&&g.length===s.length;return(0,l.jsxs)(w.Z,{children:[(0,l.jsx)(O.L,{children:(0,l.jsx)(o.Z,{sx:{minWidth:800},children:(0,l.jsxs)(C.Z,{children:[(0,l.jsx)(b.Z,{children:(0,l.jsxs)(v.Z,{children:[(0,l.jsx)(k.Z,{padding:"checkbox",children:(0,l.jsx)(S.Z,{checked:m,indeterminate:Z,onChange:e=>{e.target.checked?null==a||a():null==t||t()}})}),(0,l.jsx)(k.Z,{children:"Name"}),(0,l.jsx)(k.Z,{children:"Email"}),(0,l.jsx)(k.Z,{children:"Location"}),(0,l.jsx)(k.Z,{children:"Phone"}),(0,l.jsx)(k.Z,{children:"Signed Up"}),(0,l.jsx)(k.Z,{children:"Admin Role"})]})}),(0,l.jsx)(y.Z,{children:s.map(e=>{let n=g.includes(e.id),s=(0,P.Z)(e.createdAt,"dd/MM/yyyy");return(0,l.jsxs)(v.Z,{hover:!0,selected:n,children:[(0,l.jsx)(k.Z,{padding:"checkbox",children:(0,l.jsx)(S.Z,{checked:n,onChange:n=>{n.target.checked?null==d||d(e.id):null==r||r(e.id)}})}),(0,l.jsx)(k.Z,{children:(0,l.jsxs)(u.Z,{alignItems:"center",direction:"row",spacing:2,children:[(0,l.jsx)(A.Z,{src:e.avatar,children:E(e.name)}),(0,l.jsx)(x.Z,{variant:"subtitle2",children:e.name})]})}),(0,l.jsx)(k.Z,{children:e.email}),(0,l.jsxs)(k.Z,{children:[e.address.city,", ",e.address.state,", ",e.address.country]}),(0,l.jsx)(k.Z,{children:e.phone}),(0,l.jsx)(k.Z,{children:s}),(0,l.jsx)(k.Z,{children:e.isAdmin?"Yes":"No"})]},e.id)})})]})})}),(0,l.jsx)(_.Z,{component:"div",count:n,onPageChange:c,onRowsPerPageChange:i,page:h,rowsPerPage:j,rowsPerPageOptions:[5,10,25]})]})};D.propTypes={count:f().number,items:f().array,onDeselectAll:f().func,onDeselectOne:f().func,onPageChange:f().func,onRowsPerPageChange:f().func,onSelectAll:f().func,onSelectOne:f().func,page:f().number,rowsPerPage:f().number,selected:f().array};var N=s(9396),T=s(7709),I=s(7109);let R=()=>(0,l.jsx)(w.Z,{sx:{p:2},children:(0,l.jsx)(T.Z,{defaultValue:"",fullWidth:!0,placeholder:"Search user",startAdornment:(0,l.jsx)(I.Z,{position:"start",children:(0,l.jsx)(g.Z,{color:"action",fontSize:"small",children:(0,l.jsx)(N.Z,{})})}),sx:{maxWidth:500}})});var U=s(4510);let z=(e,n,s)=>(0,t.useMemo)(()=>(s=s||[]).slice(e*n,e*n+n),[e,n,s]),M=e=>(0,t.useMemo)(()=>e.map(e=>e.id),[e]),W=()=>{let[e,n]=(0,t.useState)([]),[s,r]=(0,t.useState)(0),[m,p]=(0,t.useState)(5),[f,P]=(0,t.useState)(!1),w=z(s,m,e),C=M(w),b=Z(C),v=(0,t.useCallback)((e,n)=>{r(n)},[]),k=(0,t.useCallback)(e=>{p(e.target.value)},[]),S=(0,t.useCallback)(async()=>{let e=await fetch((0,U.T)()+"/users"),s=await e.json();n(s)},[]),y=e=>{e.preventDefault(),P(!0),fetch((0,U.T)()+"/dev/randomuser",{method:"POST"}).then(e=>{S()}).catch(e=>{console.log(e)}).finally(()=>{P(!1)})};return(0,t.useEffect)(()=>{S()},[]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(c(),{children:(0,l.jsx)("title",{children:"Users | FamilyAlbum"})}),(0,l.jsx)(o.Z,{component:"main",sx:{flexGrow:1,py:8},children:(0,l.jsx)(h.Z,{maxWidth:"xl",children:(0,l.jsxs)(u.Z,{spacing:3,children:[(0,l.jsxs)(u.Z,{direction:"row",justifyContent:"space-between",spacing:4,children:[(0,l.jsxs)(u.Z,{spacing:1,children:[(0,l.jsx)(x.Z,{variant:"h4",children:"Registered Users"}),(0,l.jsx)(x.Z,{color:"neutral.500",variant:"body2",children:"This is admin exclusive page. Use the page to manage registered users."}),(0,l.jsxs)(u.Z,{alignItems:"center",direction:"row",spacing:1,children:[(0,l.jsx)(j.Z,{color:"inherit",startIcon:(0,l.jsx)(g.Z,{fontSize:"small",children:(0,l.jsx)(a.Z,{})}),children:"Import"}),(0,l.jsx)(j.Z,{color:"inherit",startIcon:(0,l.jsx)(g.Z,{fontSize:"small",children:(0,l.jsx)(i.Z,{})}),children:"Export"})]})]}),(0,l.jsx)("div",{children:(0,l.jsx)(j.Z,{startIcon:(0,l.jsx)(g.Z,{fontSize:"small",children:(0,l.jsx)(d.Z,{})}),variant:"contained",disabled:f,onClick:y,children:f?"Processing":"Add"})})]}),(0,l.jsx)(R,{}),(0,l.jsx)(D,{count:e.length,items:w,onDeselectAll:b.handleDeselectAll,onDeselectOne:b.handleDeselectOne,onPageChange:v,onRowsPerPageChange:k,onSelectAll:b.handleSelectAll,onSelectOne:b.handleSelectOne,page:s,rowsPerPage:m,selected:b.selected})]})})})]})};W.getLayout=e=>(0,l.jsx)(m.A,{children:e});var L=W}},function(e){e.O(0,[394,404,709,29,703,71,469,334,774,888,179],function(){return e(e.s=7476)}),_N_E=e.O()}]);