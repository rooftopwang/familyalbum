(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[616],{3315:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/memories",function(){return i(9776)}])},9776:function(e,n,i){"use strict";i.r(n),i.d(n,{default:function(){return W}});var t=i(5893),s=i(9008),r=i.n(s),o=i(2952),l=i(3557),c=i(8005),a=i(7357),d=i(5582),x=i(6447),h=i(5861),j=i(3321),m=i(3219),u=i(1426),Z=i(633),y=i(8334),p=i(5697),f=i.n(p),g=i(5286),w=i(8201),b=i(2912),v=i(6242),S=i(4267),k=i(7720);let _=e=>(0,b.Z)(new Date(e),"MMMM do, yyyy"),C=e=>{var n;let{memory:i}=e;return(0,t.jsxs)(v.Z,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[(0,t.jsxs)(S.Z,{children:[(0,t.jsx)(a.Z,{sx:{display:"flex",justifyContent:"center",pb:3},children:(0,t.jsx)(a.Z,{component:"img",sx:{height:300,width:300,borderRadius:1},alt:"The house from the offer.",src:"".concat(i.filename)})}),(0,t.jsx)(h.Z,{align:"center",gutterBottom:!0,variant:"h5",children:i.title}),(0,t.jsx)(h.Z,{variant:"body1",sx:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical"},children:i.desc})]}),(0,t.jsx)(a.Z,{sx:{flexGrow:1}}),(0,t.jsx)(k.Z,{}),(0,t.jsxs)(x.Z,{alignItems:"center",direction:"row",justifyContent:"space-between",spacing:2,sx:{p:2},children:[(0,t.jsxs)(x.Z,{alignItems:"center",direction:"row",spacing:1,children:[(0,t.jsx)(m.Z,{color:"action",fontSize:"small",children:(0,t.jsx)(g.Z,{})}),(0,t.jsx)(h.Z,{color:"text.secondary",display:"inline",variant:"body2",children:_(i.createdAt)})]}),(0,t.jsxs)(x.Z,{alignItems:"center",direction:"row",spacing:1,children:[(0,t.jsx)(m.Z,{color:"action",fontSize:"small",children:(0,t.jsx)(w.Z,{})}),(0,t.jsx)(h.Z,{color:"text.secondary",display:"inline",variant:"body2",children:null!==(n=i.author)&&void 0!==n?n:"known author"})]})]})]})};C.propTypes={memory:f().object.isRequired};var T=i(9396),I=i(7709),A=i(7109);let M=()=>(0,t.jsx)(v.Z,{sx:{p:2},children:(0,t.jsx)(I.Z,{defaultValue:"",fullWidth:!0,placeholder:"Search by Author, Type, Year",startAdornment:(0,t.jsx)(A.Z,{position:"start",children:(0,t.jsx)(m.Z,{color:"action",fontSize:"small",children:(0,t.jsx)(T.Z,{})})}),sx:{maxWidth:500}})});var N=i(7294),z=i(1983),E=i(4510);let O=()=>{let[e,n]=(0,N.useState)([]),[i,s]=(0,N.useState)(!1),y=(0,z.b)(),p=(0,N.useCallback)(async()=>{let e=await fetch((0,E.T)()+"/memory"),i=await e.json();n(i)},[]),f=()=>{try{s(!0);let e=window.sessionStorage.getItem("token");null!=e&&""!=e&&fetch((0,E.T)()+"/dev/randommemory",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,randomuser:!0})}).catch(e=>{console.log(e)}).finally(()=>{s(!1)})}catch(e){console.error(e)}};return(0,N.useEffect)(()=>{i||y.isSideNavAddingMemory||p()},[i,y.isSideNavAddingMemory]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r(),{children:(0,t.jsx)("title",{children:"Memories | FamilyAlbum"})}),(0,t.jsx)(a.Z,{component:"main",sx:{flexGrow:1,py:8},children:(0,t.jsx)(d.Z,{maxWidth:"xl",children:(0,t.jsxs)(x.Z,{spacing:3,children:[(0,t.jsxs)(x.Z,{direction:"row",justifyContent:"space-between",spacing:4,children:[(0,t.jsxs)(x.Z,{spacing:1,children:[(0,t.jsx)(h.Z,{variant:"h4",children:"Memories"}),(0,t.jsx)(h.Z,{color:"neutral.500",variant:"body2",children:'To add new memory, click the add button. You can also let server generate one by clicking the button "add a memory"'}),(0,t.jsxs)(x.Z,{alignItems:"center",direction:"row",spacing:1,children:[(0,t.jsx)(j.Z,{color:"inherit",startIcon:(0,t.jsx)(m.Z,{fontSize:"small",children:(0,t.jsx)(o.Z,{})}),children:"Import"}),(0,t.jsx)(j.Z,{color:"inherit",startIcon:(0,t.jsx)(m.Z,{fontSize:"small",children:(0,t.jsx)(l.Z,{})}),children:"Export"})]})]}),(0,t.jsx)("div",{children:(0,t.jsx)(j.Z,{startIcon:(0,t.jsx)(m.Z,{fontSize:"small",children:(0,t.jsx)(c.Z,{})}),variant:"contained",onClick:f,disabled:i,children:i?"Processing":"Add"})})]}),(0,t.jsx)(M,{}),(0,t.jsx)(u.Z,{container:!0,spacing:3,children:e&&e.map(e=>(0,t.jsx)(u.Z,{xs:12,md:6,lg:4,children:(0,t.jsx)(C,{memory:e})},e.id))}),(0,t.jsx)(a.Z,{sx:{display:"flex",justifyContent:"center"},children:(0,t.jsx)(Z.Z,{count:3,size:"small"})})]})})})]})};O.getLayout=e=>(0,t.jsx)(y.A,{children:e});var W=O}},function(e){e.O(0,[394,404,709,29,120,334,774,888,179],function(){return e(e.s=3315)}),_N_E=e.O()}]);