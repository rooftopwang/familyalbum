"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[334],{2540:function(e,n,t){t.d(n,{T:function(){return i}});var r=t(5893),l=t(2734);let i=()=>{let e=(0,l.Z)(),n=e.palette.primary.main;return(0,r.jsxs)("svg",{fill:"none",height:"100%",viewBox:"0 0 24 24",width:"100%",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{opacity:.16,d:"M7.242 11.083c.449-1.674 2.17-3.394 3.843-3.843l10.434-2.796c1.673-.448 2.666.545 2.218 2.218L20.94 17.096c-.449 1.674-2.17 3.394-3.843 3.843L6.664 23.735c-1.673.448-2.666-.545-2.218-2.218l2.796-10.434Z",fill:n}),(0,r.jsx)("path",{d:"M3.06 6.9c.448-1.674 2.168-3.394 3.842-3.843L17.336.261c1.673-.448 2.667.545 2.218 2.218l-2.796 10.434c-.449 1.674-2.169 3.394-3.843 3.843L2.481 19.552C.808 20-.185 19.007.263 17.334L3.06 6.9Z",fill:n})]})}},2377:function(e,n,t){t.d(n,{L:function(){return s}});var r=t(7297),l=t(4096),i=t(948);function o(){let e=(0,r.Z)([""]);return o=function(){return e},e}let s=(0,i.ZP)(l.Z)(o())},2662:function(e,n,t){t.d(n,{a:function(){return i}});var r=t(7294),l=t(249);let i=()=>(0,r.useContext)(l.Vo)},8334:function(e,n,t){t.d(n,{A:function(){return el}});var r,l=t(5893),i=t(7294),o=t(9332),s=t(948),a=t(1163),c=t(5697),d=t.n(c),x=t(249);let h=e=>{let{children:n}=e,t=(0,a.useRouter)(),{isAuthenticated:r}=(0,x.Eu)(),l=(0,i.useRef)(!1),[o,s]=(0,i.useState)(!1);return((0,i.useEffect)(()=>{t.isReady&&!l.current&&(l.current=!0,r?s(!0):(console.log("Not authenticated, redirecting"),t.replace({pathname:"/auth/login",query:"/"!==t.asPath?{continueUrl:t.asPath}:void 0}).catch(console.error)))},[t.isReady]),o)?n:null};h.propTypes={children:d().node};var p=t(1664),u=t.n(p),j=t(6861),f=t(6914),m=t(662),Z=t(8396),g=t(7357),b=t(5861),y=t(3219),v=t(7720),C=t(6447),k=t(3321),S=t(7533),w=t(2540),z=t(2377),P=t(9773),R=t(8964),A=t(3268),I=t(8869),N=t(2823),T=t(3290),E=t(9721),L=t(256);let M=[{title:"Statistics",path:"/",icon:(0,l.jsx)(y.Z,{fontSize:"small",children:(0,l.jsx)(P.Z,{})})},{title:"Memories",path:"/memories",icon:(0,l.jsx)(y.Z,{fontSize:"small",children:(0,l.jsx)(I.Z,{})})},{title:"Users",path:"/users",icon:(0,l.jsx)(y.Z,{fontSize:"small",children:(0,l.jsx)(E.Z,{})})},{title:"Profile",path:"/account",icon:(0,l.jsx)(y.Z,{fontSize:"small",children:(0,l.jsx)(N.Z,{})})},{title:"Settings",path:"/settings",icon:(0,l.jsx)(y.Z,{fontSize:"small",children:(0,l.jsx)(R.Z,{})})},{title:"Login",path:"/auth/login",icon:(0,l.jsx)(y.Z,{fontSize:"small",children:(0,l.jsx)(A.Z,{})})},{title:"Register",path:"/auth/register",icon:(0,l.jsx)(y.Z,{fontSize:"small",children:(0,l.jsx)(T.Z,{})})},{title:"Error",path:"/404",icon:(0,l.jsx)(y.Z,{fontSize:"small",children:(0,l.jsx)(L.Z,{})})}];var O=t(7739);let F=e=>{let{active:n=!1,disabled:t,external:r,icon:i,path:o,title:s}=e,a=o?r?{component:"a",href:o,target:"_blank"}:{component:u(),href:o}:{};return(0,l.jsx)("li",{children:(0,l.jsxs)(O.Z,{sx:{alignItems:"center",borderRadius:1,display:"flex",justifyContent:"flex-start",pl:"16px",pr:"16px",py:"6px",textAlign:"left",width:"100%",...n&&{backgroundColor:"rgba(255, 255, 255, 0.04)"},"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.04)"}},...a,children:[i&&(0,l.jsx)(g.Z,{component:"span",sx:{alignItems:"center",color:"neutral.400",display:"inline-flex",justifyContent:"center",mr:2,...n&&{color:"primary.main"}},children:i}),(0,l.jsx)(g.Z,{component:"span",sx:{color:"neutral.400",flexGrow:1,fontFamily:e=>e.typography.fontFamily,fontSize:14,fontWeight:600,lineHeight:"24px",whiteSpace:"nowrap",...n&&{color:"common.white"},...t&&{color:"neutral.500"}},children:s})]})})};F.propTypes={active:d().bool,disabled:d().bool,external:d().bool,icon:d().node,path:d().string,title:d().string.isRequired};var _=t(1983),q=t(4510);let W=e=>{let{open:n,onClose:t}=e,r=(0,o.usePathname)(),s=(0,Z.Z)(e=>e.breakpoints.up("lg")),a=(0,_.b)(),c=(0,i.useCallback)(async()=>{if(!a.isSideNavAddingMemory){a.setSideNavAddingMemory(!0);try{let e=window.sessionStorage.getItem("token");null!=e&&""!=e&&fetch((0,q.T)()+"/dev/randommemory",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,randomuser:!0})}).catch(e=>{console.log(e)}).finally(()=>{a.setSideNavAddingMemory(!1)})}catch(e){console.error(e)}}},[]),d=(0,l.jsx)(z.L,{sx:{height:"100%","& .simplebar-content":{height:"100%"},"& .simplebar-scrollbar:before":{background:"neutral.400"}},children:(0,l.jsxs)(g.Z,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[(0,l.jsxs)(g.Z,{sx:{p:3},children:[(0,l.jsx)(g.Z,{component:u(),href:"/",sx:{display:"inline-flex",height:32,width:32},children:(0,l.jsx)(w.T,{})}),(0,l.jsxs)(g.Z,{sx:{alignItems:"center",backgroundColor:"rgba(255, 255, 255, 0.04)",borderRadius:1,cursor:"pointer",display:"flex",justifyContent:"space-between",mt:2,p:"12px"},children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(b.Z,{color:"inherit",variant:"subtitle1",children:"Wolfgang"}),(0,l.jsx)(b.Z,{color:"neutral.400",variant:"body2",children:"Admin"})]}),(0,l.jsx)(y.Z,{fontSize:"small",sx:{color:"neutral.500"},children:(0,l.jsx)(m.Z,{})})]})]}),(0,l.jsx)(v.Z,{sx:{borderColor:"neutral.700"}}),(0,l.jsx)(g.Z,{component:"nav",sx:{flexGrow:1,px:2,py:3},children:(0,l.jsx)(C.Z,{component:"ul",spacing:.5,sx:{listStyle:"none",p:0,m:0},children:M.map(e=>{let n=!!e.path&&r===e.path;return(0,l.jsx)(F,{active:n,disabled:e.disabled,external:e.external,icon:e.icon,path:e.path,title:e.title},e.title)})})}),(0,l.jsx)(v.Z,{sx:{borderColor:"neutral.700"}}),(0,l.jsxs)(g.Z,{sx:{px:2,py:3},children:[(0,l.jsx)(b.Z,{color:"neutral.100",variant:"subtitle2",children:"Haven't Add One Today?"}),(0,l.jsx)(b.Z,{color:"neutral.500",variant:"body2",children:"Add a random memory"}),(0,l.jsx)(k.Z,{component:"a",endIcon:(0,l.jsx)(y.Z,{fontSize:"small",children:a.isSideNavAddingMemory?(0,l.jsx)(f.Z,{}):(0,l.jsx)(j.Z,{})}),fullWidth:!0,sx:{mt:2},target:"_blank",variant:"contained",onClick:c,children:a.isSideNavAddingMemory?"Processing":"Add a Memory"})]})]})});return s?(0,l.jsx)(S.ZP,{anchor:"left",open:!0,PaperProps:{sx:{backgroundColor:"neutral.800",color:"common.white",width:280}},variant:"permanent",children:d}):(0,l.jsx)(S.ZP,{anchor:"left",onClose:t,open:n,PaperProps:{sx:{backgroundColor:"neutral.800",color:"common.white",width:280}},sx:{zIndex:e=>e.zIndex.appBar+100},variant:"temporary",children:d})};W.propTypes={onClose:d().func,open:d().bool};var B=t(3806),H=t(4149),D=t(9396),G=t(4674),U=t(2613),V=t(8139),J=t(9661),K=t(1796),Q=t(4189),X=t(4118),Y=t(431),$=t(2662);let ee=e=>{let{anchorEl:n,onClose:t,open:r}=e,s=(0,o.useRouter)(),a=(0,$.a)(),c=(0,i.useCallback)(()=>{null==t||t(),a.signOut(),s.push("/auth/login")},[t,a,s]);return(0,l.jsxs)(Q.ZP,{anchorEl:n,anchorOrigin:{horizontal:"left",vertical:"bottom"},onClose:t,open:r,PaperProps:{sx:{width:200}},children:[(0,l.jsxs)(g.Z,{sx:{py:1.5,px:2},children:[(0,l.jsx)(b.Z,{variant:"overline",children:"Account"}),(0,l.jsx)(b.Z,{color:"text.secondary",variant:"body2",children:"Anika Visser"})]}),(0,l.jsx)(v.Z,{}),(0,l.jsx)(X.Z,{disablePadding:!0,dense:!0,sx:{p:"8px","& > *":{borderRadius:1}},children:(0,l.jsx)(Y.Z,{onClick:c,children:"Sign out"})})]})};ee.propTypes={anchorEl:d().any,onClose:d().func,open:d().bool.isRequired};let en=e=>{let{onNavOpen:n}=e,t=(0,Z.Z)(e=>e.breakpoints.up("lg")),r=function(){let e=(0,i.useRef)(null),[n,t]=(0,i.useState)(!1),r=(0,i.useCallback)(()=>{t(!0)},[]),l=(0,i.useCallback)(()=>{t(!1)},[]),o=(0,i.useCallback)(()=>{t(e=>!e)},[]);return{anchorRef:e,handleClose:l,handleOpen:r,handleToggle:o,open:n}}();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(g.Z,{component:"header",sx:{backdropFilter:"blur(6px)",backgroundColor:e=>(0,K.Fq)(e.palette.background.default,.8),position:"sticky",left:{lg:"".concat(280,"px")},top:0,width:{lg:"calc(100% - ".concat(280,"px)")},zIndex:e=>e.zIndex.appBar},children:(0,l.jsxs)(C.Z,{alignItems:"center",direction:"row",justifyContent:"space-between",spacing:2,sx:{minHeight:64,px:2},children:[(0,l.jsxs)(C.Z,{alignItems:"center",direction:"row",spacing:2,children:[!t&&(0,l.jsx)(G.Z,{onClick:n,children:(0,l.jsx)(y.Z,{fontSize:"small",children:(0,l.jsx)(H.Z,{})})}),(0,l.jsx)(U.Z,{title:"Search",children:(0,l.jsx)(G.Z,{children:(0,l.jsx)(y.Z,{fontSize:"small",children:(0,l.jsx)(D.Z,{})})})})]}),(0,l.jsxs)(C.Z,{alignItems:"center",direction:"row",spacing:2,children:[(0,l.jsx)(U.Z,{title:"Contacts",children:(0,l.jsx)(G.Z,{children:(0,l.jsx)(y.Z,{fontSize:"small",children:(0,l.jsx)(E.Z,{})})})}),(0,l.jsx)(U.Z,{title:"Notifications",children:(0,l.jsx)(G.Z,{children:(0,l.jsx)(V.Z,{badgeContent:4,color:"success",variant:"dot",children:(0,l.jsx)(y.Z,{fontSize:"small",children:(0,l.jsx)(B.Z,{})})})})}),(0,l.jsx)(J.Z,{onClick:r.handleOpen,ref:r.anchorRef,sx:{cursor:"pointer",height:40,width:40},src:"/assets/avatars/avatar-anika-visser.png"})]})]})}),(0,l.jsx)(ee,{anchorEl:r.anchorRef.current,open:r.open,onClose:r.handleClose})]})};en.propTypes={onNavOpen:d().func};let et=(0,s.ZP)("div")(e=>{let{theme:n}=e;return{display:"flex",flex:"1 1 auto",maxWidth:"100%",[n.breakpoints.up("lg")]:{paddingLeft:280}}}),er=(0,s.ZP)("div")({display:"flex",flex:"1 1 auto",flexDirection:"column",width:"100%"}),el=(r=e=>{let{children:n}=e,t=(0,o.usePathname)(),[r,s]=(0,i.useState)(!1),a=(0,i.useCallback)(()=>{r&&s(!1)},[r]);return(0,i.useEffect)(()=>{a()},[t]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(en,{onNavOpen:()=>s(!0)}),(0,l.jsx)(W,{onClose:()=>s(!1),open:r}),(0,l.jsx)(et,{children:(0,l.jsx)(er,{children:n})})]})},e=>(0,l.jsx)(h,{children:(0,l.jsx)(r,{...e})}))}}]);